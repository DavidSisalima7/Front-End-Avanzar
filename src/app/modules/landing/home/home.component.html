<div class="flex flex-col items-center justify-center w-full h-full">
    <!-- Datos sobre la fundacion -->
 <div class="container-fundation">
        <div class="container-conten">
            <div class="container-fundation-info">
                <div class="flex flex-col items-center px-6 py-10 sm:px-16 sm:pt-18 sm:pb-20 bg-white dark:bg-gray-800">


                    <br>

                    <div class="flex-1 min-w-0">
                     
                        <div class="flex flex-wrap items-center font-medium">
                            <div>
                                <a class="whitespace-nowrap text-primary-500">Productos y servicios disponibles al
                                    público</a>
                            </div>
                        </div>
                  
                        <div class="mt-2 flex items-center">
                            <img class="w-10 h-10 object-cover rounded-full" src="assets/images/logo/avanzar.png"
                                alt="Logo de Avanzar" />
                            <h2
                                class="ml-2 text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                                Publicaciones
                            </h2>
                        </div>
                    </div>

                    <div class="flex-auto p-6 sm:p-10">
                        <ng-container *ngIf="publicaciones$ | async as publicaciones">
                            <ng-container *ngIf="publicaciones.length > 0; else noPublicaciones">
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                                  
                                    


                                    <ng-container
                                    *ngFor="let publicacion of publicaciones.slice(0, 12) | paginate: { itemsPerPage: 3, currentPage: page }; let i = index; trackBy: trackByFn">
                                        <fuse-card class="flex flex-col max-w-80 w-full filter-listing">
                                            <ng-container *ngIf="
                            publicacion.productos;
                            else servicioMiniatura
                        ">
                                                <img class="w-full h-60 object-cover" *ngIf="
                                publicacion.productos
                                    .miniaturaProducto
                            " [src]="

                                publicacion.productos
                                    .miniaturaProducto
                            " alt="Card cover image" />
                                            </ng-container>
                                            <ng-template #servicioMiniatura>
                                                <img class="w-full h-36 object-cover" *ngIf="
                                publicacion.servicios
                                    .miniaturaServicio
                            " [src]="
                                publicacion.servicios
                                    .miniaturaServicio
                            " alt="Card cover image" />
                                            </ng-template>
                                            <div class="m-8 mb-4">
                                                <div class="flex justify-between">
                                                    <div class="flex flex-col">
                                                        <div class="text-secondary text-md"> {{
                                                            publicacion.tituloPublicacion }}</div>
                                                        <div class="text-2xl font-semibold leading-tight mt-1">
                                                            <div class="flex items-baseline">
                                                                <div class="text-2xl font-semibold mt-2">
                                                                    <ng-container
                                                                        *ngIf="publicacion.productos || publicacion.servicios; else precioNoDisponible">
                                                                        <ng-container *ngIf="publicacion.productos">
                                                                            <ng-container
                                                                                *ngIf="publicacion.productos.precioInicialProducto && publicacion.productos.precioFinalProducto">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    Desde USD ${{
                                                                                    publicacion.productos.precioInicialProducto
                                                                                    }}
                                                                                </div>
                                                                                <hr class="price-divider">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    Hasta USD ${{
                                                                                    publicacion.productos.precioFinalProducto
                                                                                    }}
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="!publicacion.productos.precioInicialProducto && !publicacion.productos.precioFinalProducto">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    USD ${{
                                                                                    publicacion.productos.precioFijoProducto
                                                                                    }}
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                        <ng-container *ngIf="publicacion.servicios">
                                                                            <ng-container
                                                                                *ngIf="publicacion.servicios.precioInicialServicio && publicacion.servicios.precioFinalServicio">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    Desde USD ${{
                                                                                    publicacion.servicios.precioInicialServicio
                                                                                    }}
                                                                                </div>
                                                                                <hr class="price-divider">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    Hasta USD ${{
                                                                                    publicacion.servicios.precioFinalServicio
                                                                                    }}
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="!publicacion.servicios.precioInicialServicio && !publicacion.servicios.precioFinalServicio">
                                                                                <div
                                                                                    class="text-2xl font-semibold leading-tight mt-1">
                                                                                    USD ${{
                                                                                    publicacion.servicios.precioFijoServicio
                                                                                    || "Precio no disponible" }}
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-template #precioNoDisponible>
                                                                        Precio no disponible
                                                                    </ng-template>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <button class="-mt-2 -mr-2" mat-icon-button>
                                                        <mat-icon class="text-red-500 icon-size-5"
                                                            [svgIcon]="'heroicons_solid:heart'"></mat-icon>
                                                    </button>
                                                </div>
                                                <div class="text-secondary text-md mt-1">

                                                    <ng-container *ngIf="
                                            publicacion.productos;
                                            else servicioDescripcion
                                        ">
                                                        {{
                                                        publicacion.productos
                                                        .descripcionProducto
                                                        }}
                                                    </ng-container>
                                                    <ng-template #servicioDescripcion>
                                                        {{
                                                        publicacion.servicios
                                                        .descripcionServicio ||
                                                        "Descripción no disponible"
                                                        }}
                                                    </ng-template>
                                                </div>
                                                <div class="mt-3 -mx-3">


                                                    <button class="px-3" mat-button [color]="'primary'"
                                                        (click)="openComposeDialog()">
                                                        <span class="mr-1">Detalles</span>
                                                        <mat-icon
                                                            class="icon-size-5 transition-transform ease-in-out duration-150 rotate-0"
                                                            [svgIcon]="
                                                'heroicons_mini:chevron-down'
                                            "></mat-icon>
                                                    </button>

                                                </div>
                                            </div>
                                        </fuse-card>
                                    </ng-container>
                                </div>

                               
                                    <pagination-controls (pageChange)="page = $event"  previousLabel="Anterior" nextLabel="Despues" ></pagination-controls>

                            </ng-container>
                        </ng-container>

                        <ng-template #noPublicaciones>
                            <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center">No hay
                                publicaciones
                                disponibles!</div>
                        </ng-template>

                        <div class="text-center">
                            <mat-icon class="icon-size-5 transition-transform ease-in-out duration-150 rotate-0"
                                [color]="'primary'" [svgIcon]="
                                                'heroicons_mini:chevron-double-down'
                                            "></mat-icon>
                            <p class="text-gray-500 mt-2">Ver más recomendaciones de productos y servicios
                                personalizados</p>
                            <a class="mt-2" mat-flat-button [color]="'primary'" [routerLink]="'/sign-in'"
                                style="margin-right:5px;">
                                <span>Identifícate</span>
                            </a>

                            <p class="text-gray-500 mt-2">¿Eres un cliente nuevo? <a [routerLink]="'/sign-up'"
                                    class="text-primary">Empieza aqui</a></p>

                        </div>
                    </div>








                </div>
            </div> 



            <!-- <footer
                class="absolute bottom-0 left-0 z-20 w-full p-4 bg-black border-t border-black shadow md:flex md:items-center md:justify-between md:p-6 dark:bg-gray-800 dark:border-gray-600">
                <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400">© 2023 <a
                        href="https://www.fundacion-avanzar.com/" class="hover:underline">Fundación Avanzar™</a>. All
                    Rights Reserved.
                </span>
                <ul
                    class="flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0">
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6">About</a>
                    </li>
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6">Privacy Policy</a>
                    </li>
                    <li>
                        <a href="#" class="mr-4 hover:underline md:mr-6">Licensing</a>
                    </li>
                    <li>
                        <a href="#" class="hover:underline">Contact</a>
                    </li>
                </ul>
            </footer> -->